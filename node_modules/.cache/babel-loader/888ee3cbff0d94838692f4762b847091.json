{"ast":null,"code":"import _defineProperty from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import{Redirect}from'react-router-dom';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.genericSync=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();axios.post('http://localhost:5000/api/login',_this.state,{withCredentials:true}).then(function(response){var userDoc=response.data.userDoc;console.log(\"user login: \",userDoc);_this.props.onUserChange(userDoc);_this.props.history.push(\"/\");}).catch(function(err){console.log(err);});};_this.state={email:'',password:'',message:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state=this.state,fullName=_this$state.fullName,email=_this$state.email,password=_this$state.password;if(this.props.currentUser){return React.createElement(Redirect,{to:\"/\"});}return React.createElement(\"section\",{className:\"login-page\"},React.createElement(\"h2\",null,\"Log in\"),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"label\",null,\"Email:\"),React.createElement(\"input\",{type:\"email\",value:email,onChange:this.genericSync,name:\"email\",placeholder:\"user@uxer.com\"}),React.createElement(\"label\",null,\"Password:\"),React.createElement(\"input\",{type:\"password\",value:password,onChange:this.genericSync,name:\"password\",placeholder:\"**************\"}),React.createElement(\"button\",null,\"Login\")));}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["/Users/ana/Desktop/project-3/client/src/components/user-pages/Login.js"],"names":["React","axios","Redirect","Login","props","genericSync","e","target","name","value","setState","handleSubmit","preventDefault","post","state","withCredentials","then","response","userDoc","data","console","log","onUserChange","history","push","catch","err","email","password","message","fullName","currentUser","Component"],"mappings":"otBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAGqBC,CAAAA,K,2EAEjB,eAAYC,KAAZ,CAAkB,uCAChB,uEAAMA,KAAN,GADgB,MASlBC,WATkB,CASJ,SAACC,CAAD,CAAO,eACKA,CAAC,CAACC,MADP,CACXC,IADW,WACXA,IADW,CACLC,KADK,WACLA,KADK,CAEnB,MAAKC,QAAL,oBAAiBF,IAAjB,CAAwBC,KAAxB,GACD,CAZiB,OAclBE,YAdkB,CAcH,SAACL,CAAD,CAAO,CACpBA,CAAC,CAACM,cAAF,GACAX,KAAK,CAACY,IAAN,CAAW,iCAAX,CAA8C,MAAKC,KAAnD,CAA0D,CAAEC,eAAe,CAAG,IAApB,CAA1D,EACOC,IADP,CACY,SAAAC,QAAQ,CAAE,IACNC,CAAAA,OADM,CACMD,QAAQ,CAACE,IADf,CACND,OADM,CAEdE,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BH,OAA5B,EACA,MAAKd,KAAL,CAAWkB,YAAX,CAAwBJ,OAAxB,EACA,MAAKd,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,MACD,CANP,EAOOC,KAPP,CAOa,SAAAC,GAAG,CAAE,CACVN,OAAO,CAACC,GAAR,CAAYK,GAAZ,EACD,CATP,EAUD,CA1BiB,CAEhB,MAAKZ,KAAL,CAAa,CACXa,KAAK,CAAC,EADK,CAEXC,QAAQ,CAAC,EAFE,CAGXC,OAAO,CAAC,EAHG,CAAb,CAFgB,aAOjB,C,yDAsBQ,iBAC+B,KAAKf,KADpC,CACCgB,QADD,aACCA,QADD,CACWH,KADX,aACWA,KADX,CACkBC,QADlB,aACkBA,QADlB,CAEP,GAAG,KAAKxB,KAAL,CAAW2B,WAAd,CAA0B,CACxB,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CAED,MACE,gCAAS,SAAS,CAAC,YAAnB,EACE,uCADF,CAEE,4BAAM,QAAQ,CAAE,KAAKpB,YAArB,EACE,0CADF,CAEE,6BAAQ,IAAI,CAAC,OAAb,CACQ,KAAK,CAAEgB,KADf,CAEQ,QAAQ,CAAE,KAAKtB,WAFvB,CAGQ,IAAI,CAAC,OAHb,CAIQ,WAAW,CAAC,eAJpB,EAFF,CAQE,6CARF,CASE,6BAAQ,IAAI,CAAC,UAAb,CACQ,KAAK,CAAEuB,QADf,CAEQ,QAAQ,CAAE,KAAKvB,WAFvB,CAGQ,IAAI,CAAC,UAHb,CAIQ,WAAW,CAAC,gBAJpB,EATF,CAeE,0CAfF,CAFF,CADF,CAsBD,C,mBA3D8BL,KAAK,CAACgC,S,SAApB7B,K","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\n\n\nexport default class Login extends React.Component {\n\n    constructor(props){\n      super(props);\n      this.state = {\n        email:'',\n        password:'',\n        message:'',\n      }\n    }\n\n    genericSync = (e) => {\n      const { name, value } = e.target;\n      this.setState({ [name]: value });\n    }\n\n    handleSubmit = (e) => {\n      e.preventDefault();\n      axios.post('http://localhost:5000/api/login', this.state, { withCredentials : true })\n            .then(response=>{\n              const { userDoc } = response.data;\n              console.log(\"user login: \", userDoc)\n              this.props.onUserChange(userDoc);\n              this.props.history.push(`/`)\n            })\n            .catch(err=>{\n              console.log(err)\n            });\n    }\n\n\n    render() {\n      const { fullName, email, password } = this.state;\n      if(this.props.currentUser){\n        return <Redirect to='/' />\n      }\n\n      return (\n        <section className=\"login-page\">\n          <h2>Log in</h2>\n          <form onSubmit={this.handleSubmit}>\n            <label>Email:</label>\n            <input  type='email'\n                    value={email}\n                    onChange={this.genericSync}\n                    name='email'\n                    placeholder='user@uxer.com'\n            />\n            <label>Password:</label>\n            <input  type='password'\n                    value={password}\n                    onChange={this.genericSync}\n                    name='password'\n                    placeholder='**************'\n            />\n            <button>Login</button>\n          </form>\n        </section>\n      )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}