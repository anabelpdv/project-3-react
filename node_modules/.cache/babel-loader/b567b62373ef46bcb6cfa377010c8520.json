{"ast":null,"code":"import _toConsumableArray from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ana/Desktop/project-3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import axios from'axios';import AddLocation from\"./AddLocation\";import Map from\"./Map\";import Sidebar from\"./Sidebar\";import LocationDetails from\"./LocationDetails\";var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.addLocationToggle=function(){_this.setState({addLocation:!_this.state.addLocation,title:'',description:'',lat:'',lng:'',imageUrl:[]});};_this.detailsToggle=function(){_this.setState({details:!_this.state.details});};_this.addLocationRender=function(){if(_this.state.addLocation){return React.createElement(\"div\",null,React.createElement(AddLocation,{inputHandler:_this.inputHandler,fileUploadHandler:_this.fileUploadHandler,formHandler:_this.formHandler,title:_this.state.title,description:_this.state.description,lat:_this.state.lat,lng:_this.state.lng,addLocationToggle:_this.addLocationToggle}));}};_this.inputHandler=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));};_this.fileUploadHandler=function(e){var copy=_toConsumableArray(_this.state.imageUrl);copy.push(e.target.files[0]);_this.setState({imageUrl:copy});};_this.inputCoordinatesHandle=function(e){_this.setState({lat:e.latLng.lat(),lng:e.latLng.lng()});};_this.formHandler=function(e){e.preventDefault();var uploadData=new FormData();uploadData.append('title',_this.state.title);uploadData.append('description',_this.state.description);uploadData.append('lat',_this.state.lat);uploadData.append('lng',_this.state.lng);_this.state.imageUrl.forEach(function(image,index){uploadData.append('imageUrl',_this.state.imageUrl[index]);});axios.post('http://localhost:5000/api/locations',uploadData).then(function(response){_this.props.getAllLocations();_this.setState({title:'',description:'',lat:'',lng:'',imageUrl:''});_this.addLocationToggle();}).catch(function(err){console.log(err);});};_this.state={map:{},markers:[],title:'',description:'',lat:'',lng:'',imageUrl:[],addLocation:false,details:false};return _this;}_createClass(Home,[{key:\"render\",value:function render(){return React.createElement(\"section\",null,this.props.ready&&React.createElement(Map,{visibleLocations:this.props.visibleLocations,inputCoordinatesHandle:this.inputCoordinatesHandle,addLocationToggle:this.addLocationToggle,detailsToggle:this.detailsToggle}),this.addLocationRender(),React.createElement(Sidebar,{addLocationToggle:this.addLocationToggle}));}}]);return Home;}(React.Component);export{Home as default};","map":{"version":3,"sources":["/Users/ana/Desktop/project-3/client/src/components/Home.js"],"names":["React","axios","AddLocation","Map","Sidebar","LocationDetails","Home","props","addLocationToggle","setState","addLocation","state","title","description","lat","lng","imageUrl","detailsToggle","details","addLocationRender","inputHandler","fileUploadHandler","formHandler","e","name","target","value","copy","push","files","inputCoordinatesHandle","latLng","preventDefault","uploadData","FormData","append","forEach","image","index","post","then","response","getAllLocations","catch","err","console","log","map","markers","ready","visibleLocations","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from 'axios'\nimport AddLocation from \"./AddLocation\";\nimport Map from \"./Map\";\nimport Sidebar from \"./Sidebar\";\nimport LocationDetails from \"./LocationDetails\";\n\n\n\n\nexport default class Home extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            map:{},\n            markers: [],\n            title:'',\n            description:'',\n            lat:'',\n            lng:'',\n            imageUrl:[],\n            addLocation:false,\n            details:false,\n        }\n    }\n\n\n    addLocationToggle=()=>{\n        this.setState({\n            addLocation:!this.state.addLocation,\n            title:'',\n            description:'',\n            lat:'',\n            lng:'',\n            imageUrl:[],\n        })\n    }\n    detailsToggle=()=>{\n        this.setState({\n            details:!this.state.details,\n        })\n    }\n\n\n    addLocationRender=()=>{\n        if(this.state.addLocation){\n            return(\n                <div>\n                    <AddLocation \n                        inputHandler={this.inputHandler} \n                        fileUploadHandler={this.fileUploadHandler}\n                        formHandler={this.formHandler} \n                        title={this.state.title} \n                        description={this.state.description}\n                        lat={this.state.lat} \n                        lng={this.state.lng}\n                        addLocationToggle={this.addLocationToggle}\n                        >\n                    </AddLocation>\n                </div>\n            )\n        }     \n    }\n\n    inputHandler=(e)=>{\n        const name = e.target.name;\n        const value = e.target.value;\n\n        this.setState({\n            [name]: value,\n        })\n    }\n\n    fileUploadHandler = (e) =>{ \n        let copy = [...this.state.imageUrl]\n        copy.push(e.target.files[0])\n        this.setState({imageUrl: copy})\n        \n    }\n\n    inputCoordinatesHandle=(e)=>{\n        this.setState({\n            lat: e.latLng.lat(),\n            lng:e.latLng.lng()\n        })\n    }\n\n    formHandler=(e)=>{\n        e.preventDefault()\n        const uploadData = new FormData();\n        uploadData.append('title', this.state.title);\n        uploadData.append('description', this.state.description);\n        uploadData.append('lat', this.state.lat);\n        uploadData.append('lng', this.state.lng);\n\n    \n        this.state.imageUrl.forEach((image,index) =>{\n            uploadData.append('imageUrl', this.state.imageUrl[index]);\n        })\n        \n        axios.post('http://localhost:5000/api/locations',uploadData)\n                .then(response=>{\n                    this.props.getAllLocations();\n                    this.setState({\n                        title:'',\n                        description:'',\n                        lat:'',\n                        lng:'',\n                        imageUrl:'',\n                    })\n                    this.addLocationToggle()\n                })\n                .catch(err=>{\n                    console.log(err)\n                })\n    }\n\n\n\n    render(){\n        \n        return (\n            <section>\n                {this.props.ready &&\n                                        <Map \n                                            visibleLocations={this.props.visibleLocations}\n                                            inputCoordinatesHandle={this.inputCoordinatesHandle}\n                                            addLocationToggle={this.addLocationToggle}\n                                            detailsToggle={this.detailsToggle}\n                                            \n                                        />\n                }\n                \n                {this.addLocationRender()}\n\n                <Sidebar \n                    addLocationToggle={this.addLocationToggle}\n                    \n                    >\n                </Sidebar>\n            </section>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}