{"ast":null,"code":"var _jsxFileName = \"/Users/ana/Desktop/project-3/client/src/components/user-pages/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.genericSync = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      axios.post('http://localhost:5000/api/login', this.state, {\n        withCredentials: true\n      }).then(response => {\n        const userDoc = response.data.userDoc;\n        console.log(\"user login: \", userDoc);\n        this.props.onUserChange(userDoc);\n        this.setState({\n          email: '',\n          password: '',\n          message: ''\n        });\n        this.props.history.push(\"/\");\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      message: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          fullName = _this$state.fullName,\n          email = _this$state.email,\n          password = _this$state.password;\n\n    if (this.props.currentUser) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"section\", {\n      className: \"login-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Log in\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Email:\"), React.createElement(\"input\", {\n      type: \"email\",\n      value: email,\n      onChange: this.genericSync,\n      name: \"email\",\n      placeholder: \"user@uxer.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: this.genericSync,\n      name: \"password\",\n      placeholder: \"**************\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Login\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/ana/Desktop/project-3/client/src/components/user-pages/Login.js"],"names":["React","axios","Redirect","Login","Component","constructor","props","genericSync","e","target","name","value","setState","handleSubmit","preventDefault","post","state","withCredentials","then","response","userDoc","data","console","log","onUserChange","email","password","message","history","push","catch","err","render","fullName","currentUser"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAGA,eAAe,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAE/CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SASlBC,WATkB,GASHC,CAAD,IAAO;AAAA,wBACKA,CAAC,CAACC,MADP;AAAA,YACXC,IADW,aACXA,IADW;AAAA,YACLC,KADK,aACLA,KADK;AAEnB,WAAKC,QAAL,CAAc;AAAE,SAACF,IAAD,GAAQC;AAAV,OAAd;AACD,KAZiB;;AAAA,SAclBE,YAdkB,GAcFL,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACM,cAAF;AACAb,MAAAA,KAAK,CAACc,IAAN,CAAW,iCAAX,EAA8C,KAAKC,KAAnD,EAA0D;AAAEC,QAAAA,eAAe,EAAG;AAApB,OAA1D,EACOC,IADP,CACYC,QAAQ,IAAE;AAAA,cACNC,OADM,GACMD,QAAQ,CAACE,IADf,CACND,OADM;AAEdE,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,OAA5B;AACA,aAAKd,KAAL,CAAWkB,YAAX,CAAwBJ,OAAxB;AACA,aAAKR,QAAL,CAAc;AACZa,UAAAA,KAAK,EAAC,EADM;AAEZC,UAAAA,QAAQ,EAAC,EAFG;AAGZC,UAAAA,OAAO,EAAC;AAHI,SAAd;AAKA,aAAKrB,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB;AACD,OAXP,EAYOC,KAZP,CAYaC,GAAG,IAAE;AACVT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACD,OAdP;AAeD,KA/BiB;;AAEhB,SAAKf,KAAL,GAAa;AACXS,MAAAA,KAAK,EAAC,EADK;AAEXC,MAAAA,QAAQ,EAAC,EAFE;AAGXC,MAAAA,OAAO,EAAC;AAHG,KAAb;AAKD;;AA2BDK,EAAAA,MAAM,GAAG;AAAA,wBAC+B,KAAKhB,KADpC;AAAA,UACCiB,QADD,eACCA,QADD;AAAA,UACWR,KADX,eACWA,KADX;AAAA,UACkBC,QADlB,eACkBA,QADlB;;AAEP,QAAG,KAAKpB,KAAL,CAAW4B,WAAd,EAA0B;AACxB,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AAED,WACE;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAM,MAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAQ,MAAA,IAAI,EAAC,OAAb;AACQ,MAAA,KAAK,EAAEY,KADf;AAEQ,MAAA,QAAQ,EAAE,KAAKlB,WAFvB;AAGQ,MAAA,IAAI,EAAC,OAHb;AAIQ,MAAA,WAAW,EAAC,eAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARF,EASE;AAAQ,MAAA,IAAI,EAAC,UAAb;AACQ,MAAA,KAAK,EAAEmB,QADf;AAEQ,MAAA,QAAQ,EAAE,KAAKnB,WAFvB;AAGQ,MAAA,IAAI,EAAC,UAHb;AAIQ,MAAA,WAAW,EAAC,gBAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAfF,CAFF,CADF;AAsBD;;AAhE8C","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\n\n\nexport default class Login extends React.Component {\n\n    constructor(props){\n      super(props);\n      this.state = {\n        email:'',\n        password:'',\n        message:'',\n      }\n    }\n\n    genericSync = (e) => {\n      const { name, value } = e.target;\n      this.setState({ [name]: value });\n    }\n\n    handleSubmit = (e) => {\n      e.preventDefault();\n      axios.post('http://localhost:5000/api/login', this.state, { withCredentials : true })\n            .then(response=>{\n              const { userDoc } = response.data;\n              console.log(\"user login: \", userDoc)\n              this.props.onUserChange(userDoc);\n              this.setState({\n                email:'',\n                password:'',\n                message:''\n              })\n              this.props.history.push(`/`)\n            })\n            .catch(err=>{\n              console.log(err)\n            });\n    }\n\n\n    render() {\n      const { fullName, email, password } = this.state;\n      if(this.props.currentUser){\n        return <Redirect to='/' />\n      }\n\n      return (\n        <section className=\"login-page\">\n          <h2>Log in</h2>\n          <form onSubmit={this.handleSubmit}>\n            <label>Email:</label>\n            <input  type='email'\n                    value={email}\n                    onChange={this.genericSync}\n                    name='email'\n                    placeholder='user@uxer.com'\n            />\n            <label>Password:</label>\n            <input  type='password'\n                    value={password}\n                    onChange={this.genericSync}\n                    name='password'\n                    placeholder='**************'\n            />\n            <button>Login</button>\n          </form>\n        </section>\n      )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}